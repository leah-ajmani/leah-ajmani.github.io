/*!
 * Start Bootstrap - Resume v5.0.8 (https://startbootstrap.com/template-overviews/resume)
 * Copyright 2013-2020 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-resume/blob/master/LICENSE)
 */

function plot_local(t,o,c){var d=d3.scaleOrdinal().domain(["New Edits","New Cases","Global Event","First Case","First Death","Lockdown*"]).range(["#f35b69","#6d9eeb","#7CB518","#F3DE2C","#FBB02D","#E574C3"]),u=30,f=0,p=30,x=50,g=210-x-f,y=210-u-p;d3.csv(t,function(t){var e=d3.nest().key(function(t){return t.language}).entries(t);allKeys=e.map(function(t){return t.key}),d3.select(c).append("g").append("text").attr("text-anchor","middle").attr("x",100).attr("y",0).text(o).style("color","white").style("font-size","30px").style("margin-left","50px").style("margin-bottom","50px");var n=d3.select(c).selectAll("uniqueChart").data(e).enter().append("svg").attr("width",g+x+f).attr("height",y+u+p).append("g").attr("transform","translate("+x+","+u+")"),r=new Date(2019,12,31),a=new Date(2020,4,20),l=d3.scaleTime().domain([r,a]).range([0,g]);n.append("g").attr("transform","translate(0,"+y+")").attr("class","axis").call(d3.axisBottom(l).ticks(0));var i=d3.scaleLinear().domain([0,100]).range([y,0]);n.append("g").attr("class","axis").call(d3.axisLeft(i).ticks(0)),n.append("path").attr("fill","none").attr("stroke",function(t){return d("New Edits")}).attr("stroke-width",1.9).attr("d",function(t){var e=d3.scaleLinear().domain(d3.extent(t.values,function(t){return+t.x})).range([0,g]),n=d3.scaleLinear().domain([0,d3.max(t.values,function(t){return+t.y})]).range([y,0]),r=t.values.filter(function(t){return"Local Event"==t.label});return console.log(e(+r[0].x)),d3.line().x(function(t){return e(+t.x)}).y(function(t){return n(+t.y)})(t.values.filter(function(t){return"New Edits"==t.label}))}),n.append("circle").attr("cx",function(t){var e=t.values.filter(function(t){return"Local Event"==t.label})[0];return d3.scaleLinear().domain(d3.extent(t.values,function(t){return+t.x})).range([0,g])(+e.x)}).attr("cy",function(t){var e=t.values.filter(function(t){return"Local Event"==t.label})[0];return d3.scaleLinear().domain([0,d3.max(t.values,function(t){return+t.y})]).range([y,0])(+e.y)}).attr("r",4).attr("fill",function(t){return d("Lockdown*")}),n.append("text").attr("text-anchor","start").attr("y",-5).attr("x",0).text(function(t){return t.key}).style("fill","white").style("font-size","20px");var s=d3.legendColor().shape("path",d3.symbol().type(d3.symbolCircle).size(300)()).shapePadding(70).orient("horizontal").scale(d);legend_svg=d3.select(c).append("svg").attr("class","legend-svg"),legend_svg.append("g").attr("class","legend").attr("transform","translate(190,30)").style("font-size","14px").style("fill","white").call(s)})}function plot(t,i,s,e){var o=d3.scaleOrdinal().domain(["New Edits","New Cases","Global Event","First Case","First Death","Lockdown"]).range(["#f35b69","#6d9eeb","#7CB518","#F3DE2C","#FBB02D","#E574C3"]),c=30,d=0,u=30,f=50,p=e[0]-f-d,x=e[1]-c-u;d3.csv(t,function(t){var e=d3.nest().key(function(t){return t.language}).entries(t);allKeys=e.map(function(t){return t.key}),d3.select(s).append("g").append("text").attr("text-anchor","middle").attr("x",100).attr("y",0).text(i).style("color","white").style("font-size","30px").style("margin-left","50px").style("margin-bottom","50px");var n=d3.select(s).selectAll("uniqueChart").data(e).enter().append("svg").attr("width",p+f+d).attr("height",x+c+u).append("g").attr("transform","translate("+f+","+c+")"),r=d3.scaleLinear().domain(d3.extent(t,function(t){return+t.x})).range([0,p]);n.append("g").attr("transform","translate(0,"+x+")").attr("class","axis").call(d3.axisBottom(r).ticks(0));var a=d3.scaleLinear().domain([0,d3.max(t,function(t){return+t.y})]).range([x,0]);n.append("g").attr("class","axis").call(d3.axisLeft(a).ticks(0)),n.append("path").attr("fill","none").attr("stroke",function(t){return o("New Cases")}).attr("stroke-width",1.9).attr("d",function(t){return d3.line().x(function(t){return r(+t.x)}).y(function(t){return a(+t.y)})(t.values.filter(function(t){return"New Cases"==t.label}))}),n.append("path").attr("fill","none").attr("stroke",function(t){return o("New Edits")}).attr("stroke-width",1.9).attr("d",function(t){return d3.line().x(function(t){return r(+t.x)}).y(function(t){return a(+t.y)})(t.values.filter(function(t){return"New Edits"==t.label}))}),n.append("g").selectAll("dot").data(function(t){return t.values.filter(function(t){return"Global Event"==t.label})}).enter().append("circle").attr("cx",function(t){return r(+t.x)}).attr("cy",function(t){return a(+t.y)}).attr("r",4).attr("fill",function(t){return o("Global Event")}).attr("stroke","grey").attr("stroke-width",.5),n.append("g").selectAll("dot").data(function(t){return t.values.filter(function(t){return"First Case"==t.label})}).enter().append("circle").attr("cx",function(t){return r(+t.x)}).attr("cy",function(t){return a(+t.y)}).attr("r",4).attr("fill",function(t){return o("First Case")}),n.append("g").selectAll("dot").data(function(t){return t.values.filter(function(t){return"First Death"==t.label})}).enter().append("circle").attr("cx",function(t){return r(+t.x)}).attr("cy",function(t){return a(+t.y)}).attr("r",4).attr("fill",function(t){return o("First Death")}),n.append("g").selectAll("dot").data(function(t){return t.values.filter(function(t){return"Lockdown"==t.label})}).enter().append("circle").attr("cx",function(t){return r(+t.x)}).attr("cy",function(t){return a(+t.y)}).attr("r",4).attr("fill",function(t){return o("Lockdown")}),n.append("text").attr("text-anchor","start").attr("y",-5).attr("x",0).text(function(t){return t.key}).style("fill","white").style("font-size","20px");var l=d3.legendColor().shape("path",d3.symbol().type(d3.symbolCircle).size(300)()).shapePadding(70).orient("horizontal").scale(o);legend_svg=d3.select(s).append("svg").attr("class","legend-svg"),legend_svg.append("g").attr("class","legend").attr("transform","translate(190,30)").style("font-size","14px").style("fill","white").call(l)})}